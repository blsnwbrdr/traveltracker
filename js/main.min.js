function initMap(){var e=new google.maps.Map(document.getElementById("map"),{zoom:2,center:{lat:26.2639368,lng:12.7765974},scrollwheel:!1}),t=locationCoords.map(function(e){return new google.maps.Marker({position:e})});new MarkerClusterer(e,t,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"})}function selected(){document.getElementById("visitedList").innerHTML="",document.getElementById("generateButton").innerHTML="",locationCoords=[],locationName=[],userMap=[];for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)if(e[t].checked)for(var n=0;n<countryData.length;n++)if(e[t].value===countryData[n].name.common){var a={lat:countryData[n].latlng[0],lng:countryData[n].latlng[1]},o=countryData[n].name.common,r={name:countryData[n].name.common,latlng:[countryData[n].latlng[0],countryData[n].latlng[1]]};locationCoords.push(a),locationName.push(o),userMap.push(r)}locationName.sort();for(var c=0;c<locationName.length;c++){var l="<li>"+locationName[c]+"</li>";document.getElementById("visitedList").innerHTML+=l}document.getElementById("congrats").innerHTML="<p>Congrats! You have visited "+locationName.length+" countries.</p><p>"+Math.round(locationName.length/248*100)+"% of the 248 countries in the world.</p>",initMap();document.getElementById("generateButton").innerHTML+='<button id="generateMap" class="btn animated bounce" type="button">Generate a Map to Share</button>',document.getElementById("generateMap").addEventListener("click",generate)}function generate(){$.ajax({url:"generate.php",dataType:"text",data:{data:JSON.stringify(userMap)},success:function(e){var t='<a href="usermaps/'+$.parseJSON(e)+'" target="_blank"><button id="newMap" class="btn animated bounce" type="button">Go to My Map</button>';document.getElementById("generateButton").innerHTML=t}})}for(var countryData,google,countryName=[],i=0;i<countryData.length;i++)countryName.push(countryData[i].name.common);countryName.sort();for(var v=0;v<countryName.length;v++)if(v%2==0){var even='<div><label class="btn btn-default color1"><input type="checkbox" value="'+countryName[v]+'">'+countryName[v]+"</label></div>";document.getElementById("countryList").innerHTML+=even}else{var odd='<div><label class="btn btn-default color2"><input type="checkbox" value="'+countryName[v]+'">'+countryName[v]+"</label></div>";document.getElementById("countryList").innerHTML+=odd}var locationCoords=[],locationName=[],userMap=[];document.getElementById("submit").addEventListener("click",selected);